import{f as L,E as $,g as w,p as E,n as S,aj as T,d2 as x,ag as j,s as D,ai as H,h,b4 as I,bf as v,z as M,o as r,d as z,e as i,t as F,j as e,i as p,c as d,N,b9 as V,m,aV as _,x as A}from"./index.70b9351f.js";import{u as K,a as O}from"./utils.76070a47.js";import{s as P,h as W,c as J}from"./json.b6b20beb.js";import{b as q,a as G,u as Q}from"./lens-actions.e97a9ff6.js";import{K as U}from"./network.b545639e.js";import"./date.d8ed9e53.js";import"./check-circle.00703b65.js";import"./importers.73a48610.js";import"./___vite-browser-external_commonjs-proxy.d06fac94.js";import"./TaskOption.065f32ae.js";import"./Tab.vue_vue_type_script_setup_true_lang.200cfa2f.js";import"./helpers.1ac63fdf.js";import"./rotate-ccw.dce93781.js";import"./json.b4fb5d0f.js";import"./EnvInput.vue_vue_type_script_setup_true_lang.9dde638e.js";const X={class:"flex flex-col flex-1"},Y={class:"sticky z-10 flex items-center justify-between flex-shrink-0 pl-4 overflow-x-auto border-b bg-primary border-dividerLight top-lowerSecondaryStickyFold"},Z={class:"font-semibold truncate text-secondaryLight"},ee={class:"flex"},ke=L({__name:"RawLensRenderer",props:{response:null},setup(t){const s=t,n=$(),{responseBodyText:u}=q(s.response),C=w(()=>s.response.type==="fail"||s.response.type==="success"?s.response.body:new ArrayBuffer(0)),g=w(()=>E(s.response,H(U("type",["fail","success"])),T(x(o=>o.headers,D(o=>o.key.toLowerCase()==="content-type"),j(x(o=>o.value,P(";"),W,J)))),S(()=>"text/plain"))),{downloadIcon:R,downloadResponse:f}=G(g.value,C),{copyIcon:B,copyResponse:y}=Q(u),b=h(null),a=h(!0);return K(b,u,I({extendedEditorConfig:{mode:"text/plain",readOnly:!0,lineWrapping:a},linter:null,completer:null,environmentHighlights:!0})),v("response.file.download",()=>f()),v("response.copy",()=>y()),(o,k)=>{const l=A,c=M("tippy");return r(),z("div",X,[i("div",Y,[i("label",Z,F(e(n)("response.body")),1),i("div",ee,[t.response.body?p((r(),d(l,{key:0,title:e(n)("state.linewrap"),class:N({"!text-accent":a.value}),icon:e(O),onClick:k[0]||(k[0]=V(oe=>a.value=!a.value,["prevent"]))},null,8,["title","class","icon"])),[[c,{theme:"tooltip"}]]):m("",!0),t.response.body?p((r(),d(l,{key:1,title:`${e(n)("action.download_file")} <kbd>${e(_)()}</kbd><kbd>J</kbd>`,icon:e(R),onClick:e(f)},null,8,["title","icon","onClick"])),[[c,{theme:"tooltip",allowHTML:!0}]]):m("",!0),t.response.body?p((r(),d(l,{key:2,title:`${e(n)("action.copy")} <kbd>${e(_)()}</kbd><kbd>.</kbd>`,icon:e(B),onClick:e(y)},null,8,["title","icon","onClick"])),[[c,{theme:"tooltip",allowHTML:!0}]]):m("",!0)])]),i("div",{ref_key:"rawResponse",ref:b,class:"flex flex-col flex-1"},null,512)])}}});export{ke as default};
//# sourceMappingURL=RawLensRenderer.5ec423c0.js.map
